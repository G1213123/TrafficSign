// Simple i18n utility for runtime language switching

// Base English fallback: only include entries where the key is NOT the actual English text.
// This lets us skip a full "en" dictionary and use keys-as-English for simple labels.
const base = {
  'dev_notice_html': '<strong>Development Version</strong> - This application is under active development. Please report any issues on <a href="https://github.com/G1213123/TrafficSign" target="_blank">GitHub</a>.',
  'migration_notice_html': "We're moving from <strong>g1213123.info</strong> to <strong><a href=\"https://roadsignfactory.hk\" target=\"_blank\" class=\"migration-link\">roadsignfactory.hk</a></strong><br>Please update your bookmarks to ensure continued access to our services.",
  'Site Migration Notice': 'Site Migration Notice',
  'hero_subtitle_html': 'Create, customize, and export professional directional signs online. Built with Hong Kong <span class="tpdm-tooltip" data-tooltip="Transport Planning and Design Manual">TPDM</span> standards for precision and compliance.',
  'feature_destination_text': 'Choose destinations from a comprehensive list of common districts, or type in names with authentic fonts.',
  'feature_symbols_text': 'Access a comprehensive library of traffic symbols and glyphs. No hassle for drawing points and shapes.',
  'feature_vector_text': 'Create scalable signs using vector graphics that maintain quality at any size.',
  'feature_export_text': 'Export your designs as PNG, SVG, DXF, or PDF for professional use.',
  'feature_precision_text': 'Built-in measurement tools and grid system for accurate sign dimensions.',
  'feature_save_text': 'Automatic save to browser storage and manual save/load functionality to preserve your work.',
  'demo_click_hint': 'Click any button below to see the feature in action',
  // Homepage/nav (only non-trivial copies)
  'Changelog Intro Text': "Here you'll find detailed information about all the updates, new features, bug fixes, and improvements made to Road Sign Factory. Each entry includes a short summary of what's changed.",
  'Stay Updated Description': 'Want to be notified about new releases? Follow our development on GitHub or check back here regularly for the latest updates.',
  // About page body
  'About Intro Text': 'Road Sign Factory provides traffic engineers, designers, and enthusiasts with a standards-compliant tool for creating professional road signage. It is a web service built and served to meet the modern needs for generating quality designs.',
  'feature_comply_tpdm_html': 'Comply to Hong Kong <span class="tpdm-tooltip" data-tooltip="Transport Planning and Design Manual">TPDM</span>',
  'feature_export_quality': 'Professional Export Quality',
  'feature_no_install': 'No Installation Required',
  'feature_interactive_uiux_html': 'Interactive and Responsive <span class="tpdm-tooltip" data-tooltip="User Interface / User Experience">UI/UX</span>',
  'feature_cad_html': '<span class="tpdm-tooltip" data-tooltip="Computer Aided Design">CAD</span> Tool Grade Functionality',
  'feature_open_source': 'Open Source & Free',
  'feature_save_autosave': 'Save & Load with Auto-Save',
  'Timeline Intro Text': 'Traditionally, traffic signs are designed by professional engineers as a package of a roadworks project with <span class="tpdm-tooltip" data-tooltip="Computer Aided Design">CAD</span>. While <span class="tpdm-tooltip" data-tooltip="Computer Aided Design">CAD</span> is powerful in generating detailed drawings, characters and symbols must still be drawn carefully block by block, stroke by stroke. Sign making was like a renaissance of old technology <a href="https://en.wikipedia.org/wiki/Movable_type"> Movable Printing Press</a> in modern times. A need to speed up the design process within a tight project timeframe is called. This application is the result of seeking a modern and streamlined workflow for road sign design.',
  'Timeline Apr 2022 Desc': 'The original idea for Road Sign Factory was conceived as a solution for creating professional traffic signage with modern web technologies. The project was shelved after prototyping due to the technical difficulties encounter when prototyping.',
  'Timeline May 2024 Desc': 'Transport Department of HKSAR publicly released the Traffic Signs and Road Markings Manual (TPDM), providing comprehensive standards and guidelines that became the foundation for professional traffic sign design.',
  'Timeline Jan 2025 Desc': 'After a period of dormancy, the project was restarted with renewed focus and intensive development efforts to build the complete application.',
  'Timeline Feb 2025 Desc': 'The AI revolution transformed development workflows with advanced coding assistants, enabling rapid prototyping and intuitive "vibe-based" programming approaches that accelerated the project significantly.',
  'Timeline May 2025 Desc': 'The first public prototype was released, marking a major milestone with a functional traffic sign design tool available to users worldwide.',
  'Timeline Future Desc': 'Ongoing development with regular updates, new features, and improvements based on user feedback. See our <a href="changelog.html#upcoming">planned feature list</a>.',
  'Tech Info P1': 'Road Sign Factory is built using modern web technologies including HTML5 Canvas, JavaScript ES6+, and responsive CSS. The application uses the <a href="https://fabricjs.com/" target="_blank" rel="noopener noreferrer">Fabric.js</a> library for advanced canvas manipulation and supports vector graphics export through SVG generation.',
  'Tech Info P2': "The application features an intelligent save system that automatically stores your work in the browser's local storage, preventing data loss. Additionally, manual save and load functionality allows you to manage multiple projects and create backups of your designs.",
  'Tech Info P3': 'The export function supports multiple file formats including PNG (raster), SVG (vector), PDF (document), and DXF (CAD). PDF export is handled using the <a href="https://github.com/MrRio/jsPDF" target="_blank" rel="noopener noreferrer">jsPDF</a> library, which converts the canvas content to high-quality PDF documents suitable for printing and sharing. DXF export is powered by the <a href="https://github.com/tarikjabiri/js-dxf" target="_blank" rel="noopener noreferrer">dxf-writer</a> library, with the aids of <a href="http://paperjs.org/" target="_blank" rel="noopener noreferrer">paper.js</a> for path processing, enabling seamless integration with professional CAD software and engineering workflows.',
  // Property panel (English differs from technical key)
  'Left (geom)': 'Left',
  'Top (geom)': 'Top',
  'Right (geom)': 'Right',
  'Bottom (geom)': 'Bottom',
  'Width (geom)': 'Width',
  'Height (geom)': 'Height',
  // Font modal example text
  'e.g., 屯門元朗天水圍': 'e.g., Tuen Mun Yuen Long Tin Shui Wai',
  // Export/donation overlay
  'Donation Thanks Title': 'Thank you for using Road Sign Factory!',
  'Donation Message': 'If you find this tool helpful, please consider supporting its continued development and new features.',
  'Diverge Sign': 'Diverge Sign',
  'Flag Sign': 'Flag Sign',
  'Gantry Sign': 'Gantry Sign',
  'Lane Sign': 'Lane Sign',
  'Roundabout Sign': 'Roundabout Sign',
  'Spiral Sign': 'Spiral Sign',
  'Stack Sign': 'Stack Sign',
  'Open Full App': 'Open Full App',
  'Footer Disclaimer 1': '© 2025 Road Sign Factory. Open source project.',
  'Footer Disclaimer 2': 'This application is under development and not affiliated with government authorities. Users are responsible for ensuring compliance with local regulations.',
  // Region labels (note: key has a typo kept for compatibility)
  'New Terriitories': 'New Territories',
};

const dictionaries = {
  zh: {
  'dev_notice_html': '<strong>開發版本</strong>－本應用仍在積極開發中。如有問題，請到 <a href="https://github.com/G1213123/TrafficSign" target="_blank">GitHub</a> 回報。',
  'migration_notice_html': '本網站正從 <strong>g1213123.info</strong> 遷移至 <strong><a href="https://roadsignfactory.hk" target="_blank" class="migration-link">roadsignfactory.hk</a></strong><br>請更新你的書籤以持續存取服務。',
  'Site Migration Notice': '網站遷移通知',
  'hero_subtitle_html': '線上建立、客製與匯出專業方向指示標誌。採用香港運輸策劃及設計手冊標準。',
  'Flag Sign': '旗型標誌',
  'Gantry Sign': '門架標誌',
  'Lane Sign': '車道標誌',
  'Roundabout Sign': '迴旋處標誌',
  'Spiral Roundabout Sign': '螺旋迴旋處標誌',
  'Stack Sign': '長型標誌',
  'Diverge Sign': '支路標誌',
  'Open Full App': '開啟完整應用',
  'Footer Disclaimer 1': '© 2025 Road Sign Factory．開源專案。',
  'Footer Disclaimer 2': '此應用仍在開發中，與政府機構無關；使用者需自行確保符合法規。',
    'feature_destination_text': '從常見地區清單中選擇目的地，或使用真實字型自行輸入。',
    'feature_symbols_text': '提供完整的交通符號與圖標庫，免去繪圖的麻煩。',
    'feature_vector_text': '使用可擴放向量圖，任何尺寸都能維持圖像品質。',
    'feature_export_text': '支援 PNG、SVG、DXF、PDF 等多種匯出格式。',
    'feature_precision_text': '內建量度工具與格線系統，尺寸控制更精準。',
    'feature_save_text': '支援瀏覽器自動儲存與手動儲存/載入，保障你的成果。',
    'demo_click_hint': '點擊下方任一按鈕以查看功能示範',
    'Snap prompt': '對齊提示',
    'Drag & Snap': '拖曳對齊',
    // Homepage/nav
    'Home': '首頁',
    'Getting Started': '快速開始',
    'About': '關於',
    'Changelog': '更新記錄',
    'GitHub': 'GitHub',
    'Launch App': '啟動應用程式',
    'Launch Application': '啟動應用程式',
    'Open Full App': '開啟完整應用',
    'Professional Directional Sign Design Tool': '專業方向指示標誌設計工具',
    'Current Build': '目前版本',
    'Sign Templates': '範例標誌',
    'Symbols': '符號',
    'Destination Names': '目的地名稱',
    'Web-Based': '網頁版',
    'Professional Design Features': '專業設計功能',
    'Comprehensive tools for creating standards-compliant traffic signs': '全面工具，打造合乎規範的交通標誌',
    'Destination Text': '目的地文字',
    'Symbol Library': '符號庫',
    'Vector Graphics': '向量圖形',
    'Multiple Export Formats': '多種匯出格式',
    'Precision Tools': '精準工具',
    'Save & Load': '儲存與載入',
    'See It In Action': '互動示範',
    'Interactive demonstration of key features': '互動示範關鍵功能',
    'Add Symbol': '新增符號',
    'Add Border': '新增邊框',
    'Reset': '重設',
    'Example Signs Gallery': '範例標誌集',
    'Browse through various traffic sign examples': '瀏覽多款交通標誌範例',
    'Road Sign Factory': 'Road Sign Factory',
    'Quick Links': '快速連結',
    'Resources': '資源',
    'Support': '支持',
    'Launch Application - Free': '免費啟動應用程式',
    'About Road Sign Factory': '關於 Road Sign Factory',
    'Key features:': '主要功能：',
    'Development Timeline': '開發時間線',
    'Technical Information': '技術資訊',
    'View on GitHub': '在 GitHub 檢視',
    'Contact Us': '聯絡我們',
    'Release History': '版本歷史',
    'Changelog Intro Text': '在此可查看 Road Sign Factory 的所有更新、新功能、錯誤修正與改進摘要。只提供英文版本。',
    'Stay Updated': '持續關注',
    'Stay Updated Description': '想要接收新版本通知？請在 GitHub 追蹤我們，或不時回來查看最新消息。',
    'Follow on GitHub': '在 GitHub 追蹤',
    'Try the App': '試用應用程式',
    'Getting Started Guide': '快速開始指南',
    'Learn how to create professional traffic signs with our powerful design tool': '了解如何使用我們強大的設計工具製作專業交通標誌',
    'Welcome to Road Sign Factory': '歡迎使用 Road Sign Factory',
    'Follow our step-by-step tutorials to master traffic sign design': '依照逐步教學掌握交通標誌設計',
  // Getting Started page
  'Launch Application': '啟動應用程式',
  'Choose Template': '選擇範本',
  'Open the Road Sign Factory application and explore the intuitive side panel interface and grid canvas designed for precision and ease of use.': '開啟 Road Sign Factory，瀏覽側邊面板介面與格線畫布。',
  'Select from our comprehensive template library. Add text, routes, symbols, and shapes using our powerful editing tools.': '從完整的範本庫中選擇。使用強大的編輯工具加入文字、路線、符號與圖形。',
  'Snap & Lock Shape': '對齊與鎖定圖形',
  'Use precision controls and snapping features to position elements accurately. Lock shapes in place to prevent accidental movement during design.': '利用精準控制與對齊功能，準確定位各元素；鎖定圖形以避免設計過程中誤移。',
  'Frame with Border': '加入邊框',
  'Add professional borders with auto-calculated padding and styling. Choose from various border types to frame your content perfectly.': '加入專業邊框，系統自動計算留白與樣式，提供多種邊框類型讓內容更完美。',
  'Save Design': '儲存設計',
  'Save your design locally to browser storage for quick access, or export as JSON file format for backup and sharing with others.': '將設計儲存在瀏覽器本機空間以便快速存取，或匯出為 JSON 檔以利備份與分享。',
  'Export & Share': '匯出與分享',
  'Export your finished sign in common file formats (PNG, PDF, SVG, DXF) ready for professional printing, sharing, and installation.': '以常見格式（PNG、PDF、SVG、DXF）匯出完成的標誌，便於專業列印、分享與安裝。',
  'Example of Flag Sign': '旗型標誌範例',
  'Flag Sign Tutorial': '旗型標誌教學',
  'Flag Sign Example': '旗型標誌示例',
  'Example of Diverging Sign': '支路標誌範例',
  'Diverging Sign Tutorial': '支路標誌教學',
  'Diverging Sign Example': '支路標誌示例',
  'Example of Roundabout Sign': '迴旋處標誌範例',
  'Roundabout Sign Tutorial': '迴旋處標誌教學',
  'Roundabout Sign Example': '迴旋處標誌示例',
  'Your browser does not support the video tag.': '你的瀏覽器不支援 video 標籤。',
  'View JSON Template': '檢視 JSON 範本',
  'Show Code': '顯示代碼',
  'Hide Code': '隱藏代碼',
  'How to use:': '使用方式：',
  'Copy the JSON code below and paste it into the Road Sign Factory app using the Import function to load this example sign.': '複製下方 JSON 內容，於 Road Sign Factory 的匯入功能貼上即可載入此範例標誌。',
  'Copy All': '複製全部',
  'Copied!': '己複製',
  'Loading...': '正在載入…',
  'Ready to Create Your Own Signs?': '準備好建立專屬的標誌了嗎？',
  "You've seen the tutorials and examples - now it's time to put your knowledge into practice! Launch the application and start designing professional traffic signs.": '你已看過教學與示例—現在是實作的時候！啟動應用程式，開始設計專業交通標誌吧。',
  'Learn More': '瞭解更多',
    // About page body
    'About Intro Text': 'Road Sign Factory 為交通工程師、設計師與愛好者提供一套符合標準的專業交通標誌製作工具。這是一個以現代需求為目標而建置與提供的網頁服務，致力於生成高品質設計。',
    'feature_comply_tpdm_html': '符合香港 <span class="tpdm-tooltip" data-tooltip="運輸策劃及設計手冊">TPDM</span> 標準',
    'feature_export_quality': '專業級匯出品質',
    'feature_no_install': '免安裝即可使用',
    'feature_interactive_uiux_html': '互動式及回應式 <span class="tpdm-tooltip" data-tooltip="使用者介面/經驗">UI/UX</span>',
    'feature_cad_html': '<span class="tpdm-tooltip" data-tooltip="電腦輔助設計軟件">CAD</span> 等級的工具功能',
    'feature_open_source': '開源與免費',
    'feature_save_autosave': '支援儲存/載入與自動儲存',
    'Timeline Intro Text': '傳統上，交通標誌通常由專業工程師以 <span class="tpdm-tooltip" data-tooltip="電腦輔助設計軟件">CAD</span> 作為道路工程專案的一部分來設計。雖然 <span class="tpdm-tooltip" data-tooltip="電腦輔助設計軟件">CAD</span> 在產生細節圖面上非常強大，但字符與符號仍需逐一細緻描繪。某種程度上，標誌製作就如同古老技術——<a href="https://zh.wikipedia.org/zh-hk/%E6%B4%BB%E5%AD%97%E5%8D%B0%E5%88%B7%E6%9C%AF">活字印刷</a>——於現代重新應用一樣，複雜費時。為了在緊迫的工期內加速設計流程，本應用致力於探索更現代且順暢的工作流程。',
    'Initial Idea': '初步構想',
    'First Concept': '首個概念',
    'Timeline Apr 2022 Desc': 'Road Sign Factory 的原始理念是以現代網頁技術，提供專業交通標誌設計的解決方案。該專案在原型設計後，因技術挑戰而暫時擱置。',
    'TPDM Release': 'TPDM 發布',
    'HKSAR TPDM Public Release': '香港 TPDM 公開發布',
    'Timeline May 2024 Desc': '香港運輸署公開《運輸策劃及設計手冊（TPDM）》，提供完整的標準與指引，成為專業交通標誌設計的重要基礎。',
    'Restart': '重新啟動',
    'Project Revival & Development': '專案重啟與開發',
    'Timeline Jan 2025 Desc': '在擱置一段時期以後，專案重啟以注重新焦點及功能，並展開開發以建置完整應用。',
    'AI Boom': 'AI 熱潮',
    'AI-Powered Vibe Coding Era': 'AI 驅動的 Vibe Coding 時代',
    'Timeline Feb 2025 Desc': 'AI 革命改變了開發流程，透過先進的輔助工具加速原型製作與更直覺的「氛圍」程式設計，大幅推進專案。',
    'Public Prototype': '公開原型',
    'First Public Release': '首次公開版本',
    'Timeline May 2025 Desc': '首次公開原型發布，具備可用的交通標誌設計功能，為專案發展的重要里程碑。',
    'Future': '未來',
    'Ongoing': '持續進行',
    'Continuous Enhancement': '持續開發',
    'Timeline Future Desc': '持續開發，定期推出更新、新功能與改進，並根據使用者回饋調整。詳見<a href="changelog.html#upcoming">規劃功能清單</a>。',
    'Tech Info P1': '本專案以 HTML5 Canvas、JavaScript ES6+ 與 RWD CSS 等現代網頁技術打造。應用程式使用 <a href="https://fabricjs.com/" target="_blank" rel="noopener noreferrer">Fabric.js</a> 進行進階畫布操作，並支援以 SVG 產生向量輸出。',
    'Tech Info P2': '應用內建智慧型儲存系統，會自動將您的作品保存在瀏覽器的本機儲存空間，避免資料遺失；同時提供手動儲存/載入功能，方便管理多個專案與備份設計。',
    'Tech Info P3': '支援 PNG（點陣）、SVG（向量）、PDF（文件）與 DXF（CAD）等多種輸出格式。PDF 輸出使用 <a href="https://github.com/MrRio/jsPDF" target="_blank" rel="noopener noreferrer">jsPDF</a> 將畫布內容轉為高品質 PDF；DXF 輸出採用 <a href="https://github.com/tarikjabiri/js-dxf" target="_blank" rel="noopener noreferrer">dxf-writer</a>，並輔以 <a href="http://paperjs.org/" target="_blank" rel="noopener noreferrer">paper.js</a> 進行圖形路徑處理，與專業 CAD 軟體與工程流程無縫整合。',
    // Footer/common
    'Professional traffic sign design tool for modern web browsers.': '專為現代瀏覽器打造的專業交通標誌設計工具。',
    'HK TPDM Guidelines': '香港 TPDM 指南',
    'UK Traffic Signs Manual': '英國交通標誌手冊',
    'Help support this project:': '支持此專案：',
    // General UI
    'Toggle Sidebar': '切換側欄',
    'Draw Symbol': '繪製符號',
    'Add Text': '新增文字',
    'Add Border': '新增邊框',
    'Add Route Map': '新增路線圖',
    'Measure Tool': '量度工具',
    'Template Signs': '範例標誌',
    'Import/Export': '匯入/匯出',
    'History Tracker': '歷史追蹤',
    'Information': '資訊',
    'Settings': '設定',
    'Loading resources...': '載入資源中…',
    'Follow the cursor': '跟隨游標',
    'Enter': '確定',
    'Cancel': '取消',
    'Canvas Objects': '畫布物件',
    // Context menu
    'Set Anchor': '鎖定圖形',
    'Pivot Anchor': '交換鎖定點',
    'X-axis': 'X 軸',
    'Y-axis': 'Y 軸',
    'Both': '兩者',
    'Edit': '編輯',
    'Delete': '刪除',
    'Property': '屬性',
    // Settings
    'Keyboard Shortcuts': '鍵盤快速鍵',
    'Arrow Keys': '方向鍵',
    'Nudge Selected Object': '移動選取物件',
    'Delete Selected Object': '刪除選取物件',
    'Escape': 'Esc',
    'Cancel Action / Toggle / Close Panel': '取消動作/切換/關閉側欄',
    'Enter (Key)': 'Enter (鍵)',
    'Confirm Input': '確認輸入',
    'Tab': 'Tab',
    'Switch Vertex / Unit': '切換頂點/單位',
    'Ctrl + Z': 'Ctrl + Z',
    'Undo': '復原',
    'Ctrl + S': 'Ctrl + S',
    'Save': '儲存',
    'Show Text Borders': '顯示文字邊框',
    'Show Grid': '顯示格線',
    'Show All Vertices': '顯示所有頂點',
    'Dimension Unit': '尺寸單位',
    'Background Color': '背景色',
    'Grid Color': '格線色',
    'Grid Size': '格線尺寸',
    'Auto Save': '自動儲存',
    'Auto Save Interval (seconds)': '自動儲存間隔（秒）',
    'Save Canvas': '儲存畫布',
    'Clear Saved Canvas': '清除已儲存畫布',
    'Reset Settings': '重設設定',
    'Run Tests': '執行測試',
    'Run Tests on Start': '啟動時執行測試',
    'App Language': '介面語言',
    'English': '英文',
    'Chinese': '中文',
    'Yes': '是',
    'No': '否',
    // Text panel
    'x Height': 'x 高度',
    'mm': '毫米',
    'sw': '筆畫粗細',
    'Enter spacing in X \n (Leave empty if no need for axis):': '輸入X軸間隔(如無需鎖定則留空白):',
    'Enter spacing in Y \n (Leave empty if no need for axis):': '輸入Y軸間隔(如無需鎖定則留空白):',
    'Black': '黑色',
    'White': '白色',
    'Message Colour': '訊息顏色',
    'Text Font': '英文字體',
    'Chinese Font Setting': '中文字體設定',
    'Underline': '底線',
    'Add New Destination': '新增目的地',
    'Language': '語言',
    '2Liner': '雙行',
    'Justification': '對齊方式',
    'Left': '靠左',
    'Middle': '置中',
    'Right': '靠右',
    'Region': '地區',
    '-- Select Location --': '-- 請選擇地點 --',
    'Text input is disabled in 2Liner mode. Select the location in the destination panel.': '雙行模式不支援直接輸入文字，請於目的地面板選擇地點。',
    // Property panel
    'Object Properties': '物件屬性',
    'Geometry': '幾何',
    'Basic': '基本',
    'Special': '特殊',
    'Left (geom)': '左座標',
    'Top (geom)': '上座標',
    'Right (geom)': '右座標',
    'Bottom (geom)': '下座標',
    'Width (geom)': '寬度',
    'Height (geom)': '高度',
    'Color': '顏色',
    'Fill Color': '填充顏色',
    'Text': '文字',
    'Font': '字型',
    'Symbol Type': '符號類型',
    'Angle': '角度',
    'Road Type': '道路類型',
    'Main Line': '主線',
    'Conventional Roundabout': '傳統迴旋處',
    'Spiral Roundabout': '螺旋迴旋處',
    'Approach Length': '引道長度',
    'Exit Length': '出口長度',
    'Route Width': '路徑寬度',
    'Inner Corner Radius': '內灣半徑',
    'Outer Corner Radius': '外灣半徑',
    'Side Roads': '支路段',
    'Parent Road': '主路段',
    'Branch Index': '分支序號',
    'Shape': '形狀',
    'Arrow': '箭頭',
    'Stub': '平頭',
    'RedBar' : '路線封閉',
    'LaneDrop' : '只往出口',
    'T-Junction' : 'T字路口',
    'Y-Junction' : 'Y字路口',
    'Straight' : '直路',
    'Border Type': '邊框類型',
    'Frame Width': '框厚',
    'Width Objects': '寬度物件數',
    'Height Objects': '高度物件數',
    'HDivider Count': '水平分隔數',
    'VDivider Count': '垂直分隔數',
    'BBox': '邊界盒',
    // Font modal
    'Chinese Font Priority Management': '中文字型優先順序管理',
    'Fonts are tried in order from top to bottom.': '字型會依照由上而下的順序嘗試使用。',
    'Upload Custom Font': '上傳自訂字型',
    'Choose Font File': '選擇字型檔案',
    'Character Override Settings': '特殊字元覆蓋設定',
    'Specify characters that should use a specific font. Enter characters directly without spaces or commas.': '指定需使用特定字型的字元，請直接輸入字元，勿加入空白或逗號。',
    'Override Font:': '覆蓋字型：',
    'Characters:': '字元：',
    'e.g., 屯門元朗天水圍': '例如：屯門元朗天水圍',
    'Apply Changes': '套用變更',
    // Import modal
    'Import JSON from Text': '從文字匯入 JSON',
    'Paste your JSON here...': '在此貼上 JSON 內容…',
    'Import': '匯入',
    // Export panel
    'Filename': '檔名',
    'Quality': '品質',
    'PDF Paper Size': 'PDF 紙張尺寸',
    'Scale Multiplier (PNG/SVG)': '縮放倍率（PNG/SVG）',
    'Include Grid': '包含格線',
    'Include Background': '包含背景',
    'Export as PNG': '匯出為 PNG',
    'Export as SVG': '匯出為 SVG',
    'Export as PDF': '匯出為 PDF',
    'Export as DXF (Outline Only)': '匯出為 DXF（僅外框）',
    'Export as JSON': '匯出為 JSON',
    'Import JSON file': '匯入 JSON 檔案',
    'Import JSON text': '匯入 JSON 文字',
    'Exporting': '正在匯出',
    'Donation Thanks Title': '感謝使用 Road Sign Factory！',
    'Donation Message': '如果本工具對你有所幫助，歡迎支持我們持續開發與新增功能。',
    // Border panel
    'Select Color Scheme': '選擇色彩方案',
    'Add Stack Divider': '新增長型標誌分隔線',
    'Add Gantry Divider': '新增架空標誌分隔線',
    'Add Gantry Line': '新增門架水平線',
    'Add Lane Line': '新增行車線分隔線',
    'Select Border Type': '選擇邊框類型',
    'Fixed Width': '固定寬度',
    'Fixed Height': '固定高度',
    '(optional) mm': '(選填) 毫米',
    'Select Template': '選擇範本',
    'Select shape(s) to calculate border width': '選擇圖形用以計算邊框 寬度',
    'Select shape(s) to calculate border height': '選擇圖形用以計算邊框 高度',
  // New border selection and divider placement prompts
  'Select shape(s) to contain inside the border': '選擇要包含於邊框內的圖形',
  'Click inside the border to place divider': '在邊框內點擊以放置分隔線',
    // Border color scheme labels
    'Blue Background': '藍底',
    'Green Background': '綠底',
    'White Background': '白底',
    'White Background - Parking': '白底－停車場',
    'Yellow Background': '黃底',
    'Brown Background': '棕底',
    'Red Background': '紅底',
    // Measure panel
    'Instructions': '使用說明',
    'Measurement Control': '量度控制',
    'Start Measuring': '開始量度',
    'Stop Measuring': '停止量度',
    'Click on vertices to measure distances. First click selects the starting vertex, second click measures to the end vertex.': '點選頂點以量度距離。第一次點選為起點，第二次點選為終點。',
    'Measurement Results': '量度結果',
    'Distance': '距離',
    'From': '起點',
    'To': '終點',
    'Press Enter to continue': '按 Enter 繼續',
    // Map panel
    'Main Road Type': '主路類型',
    'Main Road Shape': '主路形狀',
    'Main Road Width': '主路寬度',
    'Main Road Approach Length': '主路引道長度',
    'Main Road Exit Length': '主路出口長度',
    'Roundabout Type': '迴旋處類型',
    'Roundabout Approach Length': '迴旋處引道長度',
    'Normal': '一般',
    'Auxiliary': '輔助車道',
    'U-turn': '掉頭',
    'Draw Main Road Symbol': '繪製主路符號',
    '+ Another Route Destination': '+ 新增支路目的地',
    'Side Road width': '支路寬度',
    'Side Road Width': '支路寬度',
    'Side Road Shape': '支路形狀',
    // Tracker
    'Clear History': '清除歷程',
    'Undo Mode: Off': '復原模式：關',
    'Undo Mode: On': '復原模式：開',
    'No actions recorded yet': '尚未記錄任何操作',
    'Created': '已建立',
    'Deleted': '已刪除',
    'Modified': '已修改',
    'Anchored': '已錨定',
    'Property Changed': '屬性已變更',
    'Unlocked': '已解除鎖定',
    // Region group labels
    'Hong Kong Island': '香港島',
    'Kowloon': '九龍',
    'New Terriitories': '新界',

    // ===== Hints: Common =====
    'Usage': '用法',
    'Notes': '備註',
    'Design Reference': '設計參考',
    'Quick reference': '快速參考',
    'Scheme': '方案',
    'Background': '底色',
    'Message': '訊息',
    'Typical purpose': '常見用途',
    'When to use each scheme': '各色彩方案的使用時機',
    'Green': '綠色',
    'Blue': '藍色',
    'White': '白色',
    'Black': '黑色',
    'Yellow': '黃色',
    'Brown': '棕色',
    'Red': '紅色',
    'Language': '語言',
    'Font Family': '字型家族',
    'Background Type': '底色類型',
    'Background Colors': '底色',
    'Transport Alphabet': 'Transport 字體',
    'Dark background': '深色底',
    'Light background': '淺色底',
    'Dark Background': '深色底',
    'Light Background': '淺色底',
    'All Backgrounds': '所有底色',
    'All Colors': '所有顏色',
    'Gantry': '門架',
    'Road Side': '路旁',
    'Design Speed': '設計車速',
    'Typical Road Type': '常見道路類型',
    'Advance Information / Direction Sign': '先導資訊／方向標誌',
    'Final Advance Direction Sign': '最終先導方向標誌',
    'Direction Sign': '方向標誌',
    'RCS': 'RCS',
    '≥ 80 km/h': '≥ 80 公里/小時',
    '70–80 km/h': '70–80 公里/小時',
    '50–70 km/h': '50–70 公里/小時',
    '≤ 50 km/h': '≤ 50 公里/小時',
    'Expressway': '快速公路',
    'Trunk Road': '幹道',
    'Primary / District Distributor / Rural': '主幹／分區幹道／鄉郊',
    'Others': '其他',

    // Fallback/help messages
    'No help available for this item.': '此項目暫無說明。',
    'Failed to load help content.': '無法載入說明內容。',

    // ===== Hints: Border Colour Purpose =====
    'Border Colour Purpose': '邊框色彩用途',
    'TPDM Vol.3 – Section 3.2.7 (Colour formats), 3.5.4.8 (Sign Border Details)': 'TPDM 第3卷－第3.2.7節（顏色格式）、3.5.4.8節（標誌邊框詳情）',
    'Signs within expressway; panels directing to expressways.': '設於快速公路範圍內之標誌；或指向快速公路的導向面板。',
    'Non-expressway and regional destination route guidance.': '非快速公路之道路及區域性目的地的路線引導。',
    'Local destination blocks and general information panels.': '本地目的地區塊與一般資訊面板。',
    'Parking direction only border.': '僅用於停車場方向指示的邊框。',
    'Temporary traffic management or special event directions.': '臨時交通管理或特別活動之指示用途。',
    'Tourist attractions and recreational destinations.': '旅遊景點及康樂設施目的地。',
    'Special cases for warning message. Should not be used in normal situations.': '特殊警示用途；一般情況不應使用。',
    'Border colour matches the message colour unless specified (e.g., Dark border background use white message colour).': '邊框顏色通常與訊息字色一致，除非另有指定（例如：深色底邊框使用白色字）。',
    'Message colour follows background luminance: dark backgrounds → white message; light backgrounds → black message.': '訊息字色依背景明暗而定：深色底用白字；淺色底用黑字。',
    'For text alphabet choice, see Message Colour hint (Transport Medium/Heavy usage).': '字體粗細請參見「訊息顏色」提示（對應 Transport Medium/Heavy）。',

    // ===== Hints: Border types =====
    'Exit Border': '出口編號邊框',
    'TPDM Vol.3 - Section 3.5.7.27-3.5.7.33 (Exit Symbols), Section 3.5.4.8 (Sign Border Details)': 'TPDM 第3卷－第3.5.7.27–3.5.7.33節（出口符號）、第3.5.4.8節（標誌邊框詳情）',
    'Special border for exit numbering on signs.': '配合出口編號使用的專用邊框。',

    'Flag Border': '旗型邊框',
    'TPDM Vol.3 - Section 3.5.5.19-3.5.5.21 (Roadside Directional Signs), Section 3.5.4.8 (Sign Border Details), Section 3.5.4.16 (Border Rounding)': 'TPDM 第3卷－第3.5.5.19–3.5.5.21節（路旁方向標誌）、第3.5.4.8節（邊框詳情）、第3.5.4.16節（邊角圓角）',
    'Asymmetric flag-style border used where a pointer or offset legend is required.': '非對稱旗型邊框，適用於需要指示箭角或偏移文字的情況。',

    'Green Panel Border': '綠底面板邊框',
    'TPDM Vol.3 - Section 3.5.4.6 (Green Panel), Section 3.5.4.8 (Sign Border Details)': 'TPDM 第3卷－第3.5.4.6節（綠底面板）、第3.5.4.8節（標誌邊框詳情）',
    'Green background panel variant typically used for directional guidance to expressways.': '綠底面板，多用於指向快速公路的導向資訊。',
    'Use only on signs erected not on expressway.': '僅適用於設置於非快速公路上的標誌。',

    'Panel Border': '白底面板邊框',
    'TPDM Vol.3 - Section 3.2.7.9-3.2.7.12 (Local Destination Panel), Section 3.5.4.8 (Sign Border Details)': 'TPDM 第3卷－第3.2.7.9–3.2.7.12節（本地目的地面板）、第3.5.4.8節（標誌邊框詳情）',
    'Standard rectangular border used for non-regional destination blocks.': '標準矩形邊框，適用於非區域性目的地區塊。',
    'Whether a destination is local or regional refer to Section TPDM Chapter 3.7.': '目的地屬「本地」或「區域」的判別，請參見 TPDM 第3.7章。',

    'Stack Border': '長型邊框',
    'TPDM Vol.3 - Section 3.5.5 (Roadside Directional Signs), Section 3.5.6 (Gantry Signs), Section 3.5.4.8 (Sign Border Details), Section 3.5.4.16 (Border Rounding)': 'TPDM 第3卷－第3.5.5節（路旁方向標誌）、第3.5.6節（門架標誌）、第3.5.4.8節（邊框詳情）、第3.5.4.16節（邊角圓角）',
    'General border format for stack type, gantry type and map type sign.': '適用於長型、門架及地圖式標誌的一般邊框格式。',
    'Combine with Stack Divider when multiple horizontal blocks are needed.': '當需要多層水平區塊時，配合「長型分隔線」。',
    'Also can combine with Gantry Divider for vertical lane sectioning.': '亦可配合「門架分隔線」作垂直車道分區。',

    // ===== Hints: Divider =====
    'Gantry Border Divider': '門架邊框分隔線',
    'Gantry Border Divider Usage': '門架邊框分隔線用法',
    'TPDM Vol.3 - Section 3.5.6 (Gantry Signs), Section 3.5.4.8 (Sign Border Details)': 'TPDM 第3卷－第3.5.6節（門架標誌）、第3.5.4.8節（邊框詳情）',
    'Used to separate content horizontally within gantry-type borders for overhead directional signs': '用於門架邊框內作水平分隔（架空方向標誌）',
    'Each of the divided compartment of gantry shall represent approximate the traffic lane width': '分隔後的每一格高度，宜近似實際車道寬度',
  'Follows center arrangement principles for gantry signs in mainline or lane drop format (Section 3.5.4.10)': '主線或「車道減少」形式的門架標誌，遵循置中編排原則（詳見 3.5.4.10 節）',
    'Select the divider when placing Gantry border to assign the divider height': '放置門架邊框時選取分隔線以設定分隔高度',

    'Lane Separation Line': '車道分隔線',
    'TPDM Vol.3 - Section 3.5.6.14 (Gantry Line), Diagram 3.5.5.20 (Lane Line sign)': 'TPDM 第3卷－第3.5.6.14節（門架水平線）、圖 3.5.5.20（車道線標誌）',
    'When two or more lanes are serving the same destination with more than one location names': '當兩條或以上車道通往同一目的地且目的地名稱超過一個時',
    'Horizontal Line is added to prevent confusion of associating lanes to destinations': '加入水平線以避免車道與目的地對應關係混淆',

    'Lane Separation Line Usage': '車道分隔線用法',
    'TPDM Vol.3 - Section 3.5.6 (Gantry Signs), Section 3.5.4.9 (Border Spacings)': 'TPDM 第3卷－第3.5.6節（門架標誌）、第3.5.4.9節（邊框間距）',
    'Used to separate different lanes vertically within a lane drop sign': '在「車道減少」標誌中，用於垂直分隔不同車道',
    'Select the line when placing Stack border to assign the lane line strokes and height': '放置長型邊框時選取該線以設定線粗與高度',

    // ===== Hints: Route (Map) =====
    'Main Road Shape Guide': '主路形狀指引',
    'TPDM Vol.3 - Section 3.5.5 (Roadside Directional Signs)': 'TPDM 第3卷－第3.5.5節（路旁方向標誌）',
    'Different termination shapes follow TPDM design standards for traffic flow and road geometry:': '各種末端形狀依 TPDM 設計標準，配合交通流向及道路幾何：',
    'Shape selection should align with actual road configuration and driver expectation': '形狀選擇應符合實際道路配置與駕駛者預期',
    'Taper Diverge Junction where Main Road destination is not shown': '主路目的地未顯示之漸縮分岔路口',
    'Taper Diverge Junction where Main Road destination is shown': '主路目的地已顯示之漸縮分岔路口',
    'Main Road destination not shown here for clarity. Refer to text placement hints.': '為清晰起見，此處不顯示主路目的地。請參考文字擺放提示。',
    'Lane Drop Junction': '車道減少路口',
    'Crossroad Junction': '十字路口',

    'Roundabout Shape Guide': '迴旋處形狀指引',
    'Roundabout shape placement according to Diagram 3.5.5.8:': '依圖 3.5.5.8 之迴旋處形狀擺放：',

    // ===== Hints: Symbols =====
    'Airport Symbol': '機場符號',
    'TPDM Vol.3 - Section 3.5.7.22-3.5.7.25 (Airport Symbols), Section 3.5.4.15 (Symbol Spacing)': 'TPDM 第3卷－第3.5.7.22–3.5.7.25節（機場符號）、第3.5.4.15節（符號間距）',
    'Airport Symbol Usage': '機場符號用法',
    'Refer to general symbols (see Tunnel Symbol) for placement and spacing': '擺放與間距請參考通用符號（見隧道符號）',
    'Orientation should rotate to align with destination direction for clarity': '符號方向應轉至與目的地方向一致以提高清晰度',
    'However, airplane direction should never point downwards for safety recognition': '惟飛機機頭方向不應朝下，以免誤導與安全辨識',
  'Spacing: 2 s/w between symbols, 1.5 s/w between message and symbol (Section 3.5.4.15)': '間距：符號彼此 2 s/w；訊息與符號 1.5 s/w（詳見 3.5.4.15 節）',

    'Exit Symbol': '出口符號',
    'TPDM Vol.3 - Section 3.5.7.27-3.5.7.33 (Exit Symbols)': 'TPDM 第3卷－第3.5.7.27–3.5.7.33節（出口符號）',
    'Exit Symbol Usage': '出口符號用法',
    'Used in conjunction with exit numbers to indicate expressway exits': '與出口編號一併使用，表示快速公路之出口',
    'Positioned on the same side of the direction sign as that of the exit on the road': '應位於與道路實際出口同側之指示牌一側',

    'Expressway Symbol': '快速公路符號（綠底面板）',
    'TPDM Vol.3 - Section 3.5.7.18-3.5.7.21 (Expressway Symbols), Section 3.5.4.6 (Green Panels)': 'TPDM 第3卷－第3.5.7.18–3.5.7.21節（快速公路符號）、第3.5.4.6節（綠底面板）',
    'Expressway symbols should only be used for signs located not in an expressway.': '此符號只適用於設置於「非」快速公路之標誌。',
    'i.e. the sign is in blue background and contains a green panel directing to the expressway.': '即：標誌為藍底，並含有指向快速公路的綠底面板。',
    'This sign is used to warn motorist the start of expressway, which additional regulations will be applied.': '用以提示將進入快速公路，屆時會有額外交通規例生效。',
    'Placement inside green panel:': '放置於綠底面板內：',

    'Red Expressway Symbol': '快速公路符號（紅色，門架）',
    'TPDM Vol.3 - Section 3.5.6 (Gantry Signs), Section 3.5.6.11-18 (Expressway Symbol Placement)': 'TPDM 第3卷－第3.5.6節（門架標誌）、第3.5.6.11–18節（快速公路符號擺放）',
    'Red Expressway symbols should only be used for signs located on the expressway.': '紅色快速公路符號僅用於設置於快速公路上的標誌。',
    'i.e. the sign is in green background.': '即：標誌為綠底。',
    'The Expressway symbols should normally be located in the top right-hand corner of the sign': '符號一般位於標誌之右上角',
    'Whenever there are more than one panel on the gantry for lane drop or diverge, the symbol need only be located on the mainline part of the sign.': '若門架上有多塊面板（如車道減少或分流），僅需置於主線部分之面板即可。',
    'Placement above map type sign:': '置於地圖式標誌之上：',
    'Placement to the right of text in gantry sign:': '置於門架標誌文字右側：',
    'Placement to the left of text in gantry sign:': '置於門架標誌文字左側：',
    'Placement to the right of text in wide gantry sign:': '置於寬門架標誌文字右側：',

    'Gantry Type Sign Arrow Symbol': '門架式箭頭符號',
    'TPDM Vol.3 - Section 3.5.6 (Gantry Signs), Section 3.5.6.7 (Symbol Placement)': 'TPDM 第3卷－第3.5.6節（門架標誌）、第3.5.6.7節（符號擺放）',
    'Gantry Arrow Usage': '門架箭頭用法',
    'Downward pointing arrows must be positioned above the center of the traffic lane they refer to': '向下箭頭必須位於所指車道的正上方',
    'Used in gantry signs for lane guidance and direction indication': '用於門架標誌的車道引導與方向指示',
    'Placement below Horizontal line:': '置於水平線下：',

    'Stack Type Sign Arrow Symbol': '長型標誌箭頭符號',
    'TPDM Vol.3 - Section 3.5.5.22-3.5.5.31 (Stack Type Signs), Section 3.5.4.15 (Symbol Spacing)': 'TPDM 第3卷－第3.5.5.22–3.5.5.31節（長型標誌）、第3.5.4.15節（符號間距）',
    'Stack Arrow Symbol Usage': '長型箭頭用法',
    'Used in roadside stack-type directional signs for indicating direction of travel': '用於路旁長型方向標誌指示行駛方向',
    'Placement above Route Shield for Horizontal Arrows:': '水平箭頭置於路線盾形標誌之上：',
    'Placement when used in lane lines sign:': '用於車道線標誌時之擺放：',

    'Left Pedestrian, Disabled and Cycle Symbol': '行人（左向）、殘疾人士與單車符號',
    'TPDM Vol.3 - Section 3.5.5.34-3.5.5.35 (Pedestrian and Disabled Symbols), Section 3.5.5.47-3.5.5.49 (Cycle Symbols), Section 6.4 (Cycling signs)': 'TPDM 第3卷－第3.5.5.34–3.5.5.35節（行人與殘疾人士符號）、第3.5.5.47–3.5.5.49節（單車符號）、第6.4節（單車設施標誌）',
    'Left Pedestrian Symbol Usage': '行人（左向）符號用法',
    'Used to indicate pedestrian facilities or pedestrian-related destinations': '用以表示行人設施或與行人相關之目的地',
    'Typically placed adjacent to text indicating pedestrian areas or walkways': '通常置於顯示行人區或步行道之文字旁',
    'Symbol facing left or right should align with the sign direction': '符號朝向（左/右）應與指示方向一致',

    'Regulatory sign Symbol': '規例標誌符號',
    'TPDM Vol.3 - Section 3.5.5.13 (Route Symbol Arrangement), Section 3.5.7.42-3.5.5.46 (Cycle Symbols), Section 6.4 (Traffic Sign Symbols)': 'TPDM 第3卷－第3.5.5.13節（路線符號編排）、第3.5.7.42–3.5.5.46節（單車符號）、第6.4節（交通符號）',
    'Regulatory Sign Symbol Usage': '規例標誌符號用法',
    'Used to indicate restriction of the road ahead': '表示前方道路之限制',
    'Restrictions applied might be height, width, no turning left/right, no entry': '可能包括高度/寬度限制、禁止左/右轉、禁止進入等',

    'Route Shield Symbol': '路線盾形標誌',
    'TPDM Vol.3 - Section 3.5.7.2-3.5.7.9 (Route Shield Symbol), Section 3.5.4.15 (Symbol Spacing)': 'TPDM 第3卷－第3.5.7.2–3.5.7.9節（路線盾形）、第3.5.4.15節（符號間距）',
    'Route Shield Symbol Usage': '路線盾形標誌用法',
    'Used to identify specific route numbers and highway designations': '用以識別特定路線編號及道路等級',
    'Can be positioned adjacent to text, below text, or with directional arrows': '可置於文字旁、文字下方，或與方向箭頭搭配',
  'Spacing: 1.5 s/w bottom spacing extension applies to route shields (Section 3.5.4.9)': '下方延伸間距 1.5 s/w 適用於路線盾形（詳見 3.5.4.9 節）',
    'Symbol spacing: 2 s/w between symbols, proper alignment with destination text': '符號間距 2 s/w，並與目的地文字妥善對齊',
    'Placement below text': '置於文字下方',
    'Placement below another symbol': '置於另一符號之下',
    'Placement at the end of main road destination in map type sign': '置於地圖式標誌主路目的地文字之末端',
    'Placement to the side road destination in map type sign': '置於地圖式標誌支路目的地文字旁',
    'Placement with the stack arrow in stack type sign': '於長型標誌與箭頭同置',
    'Alternative placement with the stack arrow in stack type sign': '長型標誌與箭頭之替代擺放方式',
    'Placement with the gantry arrow in gantry type sign': '於門架標誌與箭頭同置',

    'General Symbol': '通用符號',
    'TPDM Vol.3 - Section 3.5.4.15 (Symbol Placement), Section 3.5.7.10-3.5.7.17 (Tunnel Symbols), Section 3.5.7.26 (MTR Symbol), Section 3.5.7.41 (Hospital Symbol)': 'TPDM 第3卷－第3.5.4.15節（符號擺放）、第3.5.7.10–3.5.7.17節（隧道符號）、第3.5.7.26節（港鐵符號）、第3.5.7.41節（醫院符號）',
    'Applicable for Tunnel, Airport, Hospital, Parking, Disney, MTR symbols': '適用於隧道、機場、醫院、停車、迪士尼、港鐵等符號',
    'Symbol placement follows general symbol guidelines with proper spacing and alignment': '符號擺放遵循通用規範並保持適當間距與對齊',
    'Placement next to one line of Text in stack type sign:': '長型標誌單行文字旁之擺放：',
    'Placement next to one line of Text in flag type sign:': '旗型標誌單行文字旁之擺放：',
    'Placement there are multiple lines of Text:': '多行文字之擺放：',
    'Alternative placement there are multiple lines of Text:': '多行文字之替代擺放：',
    'Placement there are multiple logos:': '多個圖標之擺放：',
    'Placement next to Text in gantry sign:': '門架標誌文字旁之擺放：',
    'Placement to the main road destination in map type sign:': '地圖式標誌主路目的地之擺放：',
    'Placement to the side road destination in map type sign:': '地圖式標誌支路目的地之擺放：',
    'Another placement to the side road destination in map type sign:': '地圖式標誌支路目的地之另一擺放：',

    // ===== Hints: Text =====
    'Message Colour Selection': '訊息顏色選擇',
  'TPDM Vol.3 – Section 3.5.3, 3.5.4.6–3.5.4.7; Colour formats per 3.2.7.1': 'TPDM 第3卷－第3.5.3、3.5.4.6–3.5.4.7；顏色格式詳見 3.2.7.1 節',
    'Choose text colour based on the panel/background': '依面板/背景選擇文字顏色',
    'Select the message colour to maintain contrast with the sign panel (border/background). Use this table:': '選擇訊息字色以維持與面板（邊框/背景）的對比。參考下表：',
    'Typical Background Colours': '常見底色',
    'Transport Medium': 'Transport 中黑',
    'Transport Heavy': 'Transport 粗黑',
    'For bilingual signs, follow the same contrast rule for both languages.': '雙語標誌亦應遵照同一對比原則。',
    'Green/Blue panels (e.g., expressway, trunk): use White text.': '綠/藍底面板（如快速公路、幹道）：使用白字。',
    'White/Yellow panels (local/temporary): use Black text.': '白/黃底面板（本地/臨時）：使用黑字。',
    'Refer to TPDM for full colour formats and panel rules. See also 3.5.7 for symbol colour behaviour on green panels.': '完整顏色格式與面板規則請參見 TPDM；另見 3.5.7（綠底面板上之符號顏色表現）。',

    'Text Placement Guide': '文字擺放指引',
    'TPDM Vol.3 - Section 3.5.4.1-3.5.4.5 (Legend Blocks), Section 3.5.4.10 (Alignment)': 'TPDM 第3卷－第3.5.4.1–3.5.4.5節（文字區塊）、第3.5.4.10節（對齊）',
    'Text Placement Guidelines': '文字擺放原則',
    'Text placement follows TPDM specifications for legend block formation and message alignment:': '文字擺放遵循 TPDM 對文字區塊與編排之規範：',
  'Words are formed by butting tiles together with 2 s/w space between words (Section 3.5.4.1)': '英文以字磚相接組成；單字間距 2 s/w（詳見 3.5.4.1 節）',
  'English messages are butted above corresponding Chinese messages (Section 3.5.4.3)': '英文置於相應中文之上方（詳見 3.5.4.3 節）',
  'Alignment: Left for stack/flag/map type signs, center for gantry signs (Section 3.5.4.10)': '對齊：長型/旗型/地圖式採靠左；門架採置中（詳見 3.5.4.10 節）',
    'Diverging Map Type Sign without Main Road Destination': '地圖式分流標誌（不含主路目的地）',
    'Diverging Map Type Sign with Main Road Route Number and expressway symbol': '地圖式分流標誌（含主路路線編號與快速公路符號）',
    'Diverging Map Type Sign with Main Road Destination': '地圖式分流標誌（含主路目的地）',
    'Roundabout Map Type Sign left and top destinations': '迴旋處地圖式標誌（左/上方向目的地）',
    'Roundabout Map Type Sign right and u-turn destinations': '迴旋處地圖式標誌（右/掉頭方向目的地）',
    'Stack Type Sign': '長型標誌',
    'Text above destination panel block (applicable both white and green panel)': '文字置於目的地面板上方（適用白底與綠底面板）',
    'Text below destination panel block (applicable both white and green panel)': '文字置於目的地面板下方（適用白底與綠底面板）',
    'Text placement in gantry sign': '門架標誌中文字擺放',
    'Alternative placement in gantry sign to reduce width': '門架標誌之替代擺放（縮減寬度）',

    'Text Font Guide': '文字字型指引',
    'TPDM Vol.3 - Section 3.5.3 (Lettering and Character Standards), Section 3.5.4.6-3.5.4.7 (Panel Typography)': 'TPDM 第3卷－第3.5.3節（字體及字符標準）、第3.5.4.6–3.5.4.7節（面板字體）',
    'Transport Font Family Selection (TPDM Vol.3 Section 3.5.3)': 'Transport 字型選擇（TPDM 第3卷 3.5.3）',
    'Font selection follows TPDM specifications for optimal legibility and consistency:': '字型選擇遵循 TPDM 規範，以確保可讀性與一致性：',
  'Dark colour panels use Transport Medium alphabet with white color (Section 3.5.4.6)': '深色底面板使用 Transport Medium 白字（詳見 3.5.4.6 節）',
  'Light colour use Transport Heavy alphabet with black color (Section 3.5.4.7)': '淺色底面板使用 Transport Heavy 黑字（詳見 3.5.4.7 節）',
    'Avector Chinese True Type Fonts (Hong Kong) - BlackBold': '全真字庫（港人版）- 粗黑',
    'Avector HK BlackBold (Chinese)': '全真字庫（港人版）- 粗黑',

    'x-Height Input Guide': 'x 高度輸入指南',
    'TPDM Vol.3 - Section 3.2 (Lettering Dimensions), Table 3.2.5.1': 'TPDM 第3卷－第3.2節（字高），表 3.2.5.1',
    'What is x-height?': '何謂 x 高度？',
    'x-height description': 'x 高度為交通標誌英文字母（Transport 字體）的小寫名義高度。此值決定整體設計尺寸，並與筆畫寬（s/w）共同用於換算實際標誌尺寸。常見關係式：mm = x 高度 × 筆畫寬 ÷ 4。',
    'How to choose x-height': '如何選擇 x 高度',
    'Refer to TPDM Table 3.2.5.1 for recommended x-heights by design speed and sign type. Summary:': '請參考 TPDM 表 3.2.5.1 按設計車速與標誌類型之建議 x 高度：',
  'X-height notes': '備註（摘自表下）：x 高度主要由設計車速決定；無括號數值為建議值；括號內為受限制時之較小替代值。中間值可依 5 mm 進位（詳見 3.2.5.2–3 節），另有例外情況。',
    'Minimum clear visibility': '最小清晰可見距離',
  'Table 3.2.5.1 also specifies minimum clear visibility distances for each case. Ensure siting achieves at least the stated minimums; strive for more where feasible (see 3.2.5.4–3.2.5.7).': '表 3.2.5.1 同時列出各情況之最小清晰可見距離。設置位置應至少達到所列最小值，並在可行情況下爭取更大距離（詳見 3.2.5.4–3.2.5.7 節）。',
  },
};

let currentLocale = 'en';

const i18n = {
  t(key) {
    if (!key) return '';
    const dict = dictionaries[currentLocale] || {};
    // Prefer current locale, then base (English), then the key itself
    return dict[key] || base[key] || key;
  },
  setLocale(locale) {
    // Allow 'en' even without a dictionary (it will use base/keys)
    if (locale === 'en' || (locale && dictionaries[locale])) {
      currentLocale = locale;
    } else {
      currentLocale = 'en';
    }
  },
  getLocale() {
    return currentLocale;
  },
  applyTranslations(root = document) {
    if (!root) return;
    // Text content
    root.querySelectorAll('[data-i18n]')?.forEach(el => {
      const key = el.getAttribute('data-i18n');
      if (key) el.textContent = i18n.t(key);
    });
    // HTML content
    root.querySelectorAll('[data-i18n-html]')?.forEach(el => {
      const key = el.getAttribute('data-i18n-html');
      if (key) el.innerHTML = i18n.t(key);
    });
    // Placeholders
    root.querySelectorAll('[data-i18n-placeholder]')?.forEach(el => {
      const key = el.getAttribute('data-i18n-placeholder');
      if (key) el.setAttribute('placeholder', i18n.t(key));
    });
    // Tooltips (data-tooltip and title)
    root.querySelectorAll('[data-i18n-tooltip]')?.forEach(el => {
      const key = el.getAttribute('data-i18n-tooltip');
      if (key) {
        const val = i18n.t(key);
        el.setAttribute('data-tooltip', val);
        el.setAttribute('title', val);
      }
    });
  }
};

export { i18n };

// Also expose globally for inline scripts that cannot import modules
if (typeof window !== 'undefined') {
  window.i18n = i18n;
}
